{"version":3,"sources":["DocService.js","components/Dashboard.js","components/Topic.js","index.js"],"names":["isTopicArraryReady","React","createContext","topics","doc","isDocReady","DocService","init","callback","fetch","url","then","response","json","err","console","log","fetchDoc","getHeader","header","getDoc","getSections","sections","getTopic","topicId","i","length","section","j","topicObj","id","getAllTopics","SectionList","props","index","react_default","a","createElement","key","className","subheader","map","obj","Dashboard_TopicList","topic","TopicList","name","Link","to","pathname","concat","state","Dashboard","Dashboard_SectionList","Topic","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","topicID","match","params","location","topicComp","topicName","itemId","resp","text","html","document","getElementById","innerHTML","scripts","getElementsByTagName","src","script","textContent","appendChild","createTextNode","getItemKey","itemURL","itemKey","substring","lastIndexOf","s","len","items","item","title","process","push","href","getItemContent","getItems","Component","Index","setHeader","setState","_this2","BrowserRouter","basename","Fragment","Switch","Route","exact","path","render","components_Dashboard","component","ReactDOM","src_Index"],"mappings":"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","file":"static/js/main.28096a94.chunk.js","sourcesContent":["import React from 'react';\n\nexport const DocContext = React.createContext([{}, () => {}]);\n\nlet isTopicArraryReady = false;\nlet topics = [];\nlet doc = {};\nlet isDocReady = false;\n\nfunction fetchDoc(callback) {\n  try {\n    if(!isDocReady) {\n      let prefix = process.env.PUBLIC_URL;\n      let url = (prefix !== \"\") ? prefix : \"\";\n      url += \"/assets/docs.json\";\n      fetch(url)\n        .then( response => response.json())\n        .then( json => {\n            doc = json;\n            isDocReady = true;\n            if(callback) {callback()}\n            return;\n          }\n        );\n    } else {\n      if(callback) {callback()}\n    }\n\n  } catch(err) {\n    console.log(err);\n  }\n}\n\nfunction getAllTopics() {\n  for (let i = 0; i < doc.sections.length; i++) {\n    let section = doc.sections[i];\n    for (let j = 0; j < section.topics.length; j++) {\n      let topicObj = section.topics[j];\n      topics[topicObj.id] = topicObj;\n    }\n  }\n}\n\nconst DocService = {\n  init:function(callback) {\n    fetchDoc(callback);\n  },\n  getHeader: function() {\n    return doc.header;\n  },\n  getDoc: function() {\n    return doc;\n  },\n  getSections: function() {\n    return doc.sections;\n  },\n  getTopic: function(topicId) {\n    let topic = {};\n    if (!isTopicArraryReady) {\n      getAllTopics();\n      isTopicArraryReady = true;\n    }\n    topic = topics[topicId];\n    return topic;\n  }\n}\n\nexport default DocService;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst SectionList = (props) => {\r\n  const {section, index} = props;\r\n  return (\r\n    <section key={\"sec\" + index}>\r\n      <h2 className=\"cc-h\">{section.subheader}</h2>\r\n      <div className=\"cc-section-panel cc-panel cc-panel-body cc-panel-border\">\r\n        <div className=\"cc-indent-lg\">\r\n          <ul className=\"cc-list row cc-flex-list\">\r\n            {\r\n              section.topics.map((obj,i) => (\r\n                <TopicList key={\"topiclist\" + i} topic={obj} /> \r\n              ))\r\n            }\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n  \r\n}\r\n\r\nconst TopicList = (props)=> {\r\n  const {topic} = props;\r\n  if (!topic.name) {\r\n    return \"\";\r\n  }\r\n  return (\r\n    <li key={topic.id} className=\"col-md-3 col-sm-12\">\r\n      <Link to={{\r\n        pathname:`topic/${topic.id}`,\r\n        state:{topic}\r\n      }}>\r\n        {topic.name}\r\n      </Link>\r\n    </li>\r\n  );\r\n}\r\n\r\nconst Dashboard = (props) => {\r\n  const {sections} = props;\r\n  if (typeof(sections) == \"undefined\") {\r\n    return <div></div>\r\n  } else {\r\n    return (\r\n      <div> {sections.map((section,i) =>\r\n            <SectionList key={\"sectionlist\" + i} section={section} index={i} />\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Dashboard;","import React, { Component } from 'react';\r\n\r\nclass Topic extends Component {\r\n\r\n  constructor(props) {\r\n    super();\r\n    this.topicID = props.match.params.topic;\r\n    const {topic} = props.location.state;\r\n    this.topicComp = topic;\r\n    this.topicName = topic.name;  \r\n  }\r\n  \r\n  getItemContent(itemId, url) {\r\n    fetch(url)\r\n    .then(resp => resp.text())\r\n    .then(function(html){\r\n      let obj = document.getElementById(itemId);\r\n      obj.innerHTML = html;\r\n      let scripts = obj.getElementsByTagName(\"script\");\r\n      for (let i=0; i<scripts.length; i++) {\r\n        let tag = scripts[i];\r\n        if(!tag.src){\r\n          var script = document.createElement('script');\r\n          let text = scripts[i].textContent;\r\n          script.appendChild( document.createTextNode( text ) );\r\n          document.getElementsByTagName('head')[0].appendChild(script);\r\n        }\r\n      }\r\n    })\r\n  }\r\n  \r\n  getItems() {\r\n    function getItemKey(itemURL) {\r\n      let itemKey = itemURL;\r\n      itemKey = itemKey.substring(itemKey.lastIndexOf(\"/\")+1, itemKey.lastIndexOf(\".\"));\r\n      return itemKey;\r\n    }\r\n    let s = [];\r\n    let len = this.topicComp.items.length;\r\n    let prefix = process.env.PUBLIC_URL;\r\n\r\n    for (let i=0; i<len; i++) {\r\n      let item = this.topicComp.items[i];\r\n      let title = item.title;\r\n      let url = (prefix !== \"\") ? prefix : \"\";\r\n      url += \"/\" + item.url;\r\n      let id = this.topicID + i;\r\n      let itemId = getItemKey(item.url); \r\n      s.push(\r\n        <div className=\"cc-section cc-panel\" key={id} id={itemId}>\r\n          <h2 className=\"cc-h cc-panel-header\">\r\n            <a href={\"#\" + itemId } className=\"cc-block\">{title}</a>\r\n          </h2>\r\n          <div className=\"cc-panel-body\" id={id}>\r\n            {this.getItemContent(id,url)}\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    return s;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"cc-section\">\r\n        <div className=\"cc-h-area\">\r\n          <h1 className=\"cc-h\">{ this.topicName }</h1>\r\n        </div>\r\n        {this.getItems()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Topic;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch, Route, Link } from 'react-router-dom';\nimport './index.css';\nimport DocService from './DocService.js'\nimport Dashboard from './components/Dashboard';\nimport Topic from './components/Topic';\n\n//const DocContext = React.createContext();\n\nclass Index extends React.Component {\n\n  state = {\n    header: \"\",\n    sections: []\n  }\n\n  setHeader = () => {\n    let header = DocService.getHeader();\n    let sections = DocService.getSections();\nconsole.log(sections);\n    this.setState({\n      \"header\": header,\n      \"sections\": sections\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    DocService.init( () => {\n        this.setHeader();\n      }\n    );\n  }\n\n  render() {\n    return (\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <>\n        <div className=\"cc-h-area cc-nav\">\n          <div className=\"container cc-padding\">\n            <h1 className=\"cc-h cc-inline\">\n              <Link to=\"/\">{this.state.header}</Link>\n            </h1>\n          </div>\n        </div>\n        <div className=\"cc-body\">\n          <div className=\"container\" id=\"container\">\n            {\n              this.state.header === \"\" ? ( \n                <div/> \n              ) : (\n                <Switch>\n                  <Route exact path=\"/\" render={() => <Dashboard sections={this.state.sections}/> } />\n                  <Route path=\"/topic/:topic\" component={Topic}/>\n                </Switch>\n              )\n            }\n          </div>\n        </div>\n        </>\n      </BrowserRouter>\n    );\n  }\n}\n\nReactDOM.render(<Index />, document.getElementById('root'));"],"sourceRoot":""}